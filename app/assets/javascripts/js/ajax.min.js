"use strict";App.loadPlugins=(e,t,a)=>{const r=[...document.head.querySelectorAll("script[src]")].map(e=>e.getAttribute("src")),n=[...document.head.querySelectorAll("link[href]")].map(e=>e.getAttribute("href"));let o=[];if(!a){if(t)for(const e of t)o.push(i(e,!0));if(e)for(const t of e)"css"===t.substring(t.lastIndexOf(".")+1)?o.push(s(t)):o.push(i(t));!e&&!t&&o.push(Promise.resolve())}function s(e){return new Promise((t,a)=>{if(-1===n.indexOf(e)){let r=document.createElement("link");r.href=e,r.rel="stylesheet",r.onload=()=>t(),r.onerror=()=>a(new Error("Style load error: "+e)),document.getElementById("main-css").before(r)}else t()})}function i(e,t=!1){return new Promise((a,n)=>{if(-1===r.indexOf(e)||t){let r=document.createElement("script");r.src=t?App.addTimestamp(e):e,r.onload=()=>a(),r.onerror=()=>n(new Error("Script load error: "+e)),t?document.head.appendChild(r).parentNode.removeChild(r):document.head.appendChild(r)}else a()})}return a?async function(){if(t)for(const e of t)await i(e,!0);if(e)for(let t of e)"css"===t.substring(t.lastIndexOf(".")+1)?await s(t):await i(t);!e&&!t&&await Promise.resolve()}():Promise.all(o)},App.startLoading=()=>{ajaxloader.classList.add("loading"),setTimeout(()=>{ajaxloader.classList.contains("loading")&&(ajaxloader.style.display="",setTimeout(()=>ajaxloader.classList.add("show"),10))},500)},App.stopLoading=()=>{ajaxloader.style.display="none",ajaxloader.classList.remove("loading","show")},App.cleanScraps=()=>{let e=document.getElementById("ajax-js"),t=[];for(;e=e.nextElementSibling;)"script"!=e.tagName.toLowerCase()&&t.push(e);for(const e of t)e.parentNode.removeChild(e)},App.contentEval=e=>{const t=document.createElement("div");t.innerHTML=e;for(let e of t.querySelectorAll("script")){let t=a("script",e);document.head.appendChild(t).parentNode.removeChild(t)}function a(e,t){const a=document.createElement(e);t.text&&(a.text=t.text);const r=t.attributes;if(r.length)for(let e of r)a.setAttribute(e.nodeName,e.nodeValue);return a}return e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")},App.addTimestamp=e=>{if(-1!==e.indexOf("_="))return e;{const t=-1!==e.indexOf("?")?"&":"?";return e+t+"_="+Date.now()}},App.loadURL=(e,t,a)=>{const r=document.querySelector(a.container);App.startLoading(),fetch(App.addTimestamp(e)).then(e=>{e.text().then(n=>{if(document.querySelector(".main-navbar")&&App.lgUp()){const e=document.querySelector(".main-header").getBoundingClientRect().height;window.scrollY>=e&&window.scrollTo(0,e)}else window.scrollTo(0,0);if(e.ok){if(App.cleanScraps(),a.breadcrumb){let e=App.generateBreadcrumb(t,a);e&&(n=e+n)}r.innerHTML=App.contentEval(n),document.body.classList.remove("inner-expand");const e=r.querySelector("[autofocus]");e&&e.focus()}else App.stopLoading(),r.innerHTML='<div class="alert alert-danger alert-error-load" role="alert">'+n+"</div>"})})},App.updateMenu=e=>{const t=document.querySelector("#menu");for(const a of t.querySelectorAll(".active, .show"))e!=a&&a.classList.remove("active","show");e.classList.add("active"),e.classList.contains("nav-link")||e.closest(".nav-item").querySelector(".nav-link").classList.add("active","show"),App.mdDown()&&document.body.classList.contains("sidebar-expand")&&document.querySelector('[data-toggle="sidebar"]').click()},App.updateMenuTop=e=>{const t=document.querySelector(".main-navbar");for(const a of t.querySelectorAll(".active"))e!=a&&a.classList.remove("active");e.classList.add("active"),e.classList.contains("nav-link")||e.closest(".nav-item").querySelector(".nav-link").classList.add("active")},App.generateBreadcrumb=(e,t)=>{if("false"!==e.dataset.breadcrumb){let a=[`<li class="breadcrumb-item"><a href="#${t.default}">Home</a></li>`];if(!e.classList.contains("nav-link")){const t=e.closest("ul").previousElementSibling.innerHTML.replace(/<i.*>.*?<\/i>/gi,"").replace(/<span.*>.*?<\/span>/gi,"").replace(/<svg.*>.*?<\/svg>/gi,"").trim();a.push(`<li class="breadcrumb-item"><a href="javascript:void(0)">${t}</a></li>`)}return a.push(`<li class="breadcrumb-item active" aria-current="page">${e.innerHTML.replace(/<i.*>.*?<\/i>/gi,"").replace(/<span.*>.*?<\/span>/gi,"").replace(/<svg.*>.*?<\/svg>/gi,"").trim()}</a></li>`),`\n      <nav aria-label="breadcrumb" class="main-breadcrumb">\n        <ol class="breadcrumb">\n          ${a.join("\n")}\n        </ol>\n      </nav>`}},App.ajax=e=>{const t=location.href.split("#").splice(1).join("#");if(t){const a=menu.querySelector('a[href="#'+t.split("?")[0].split("/")[0]+'"]');if(App.loadURL(t+window.location.search,a,e),a&&App.updateMenu(a),document.querySelector(".main-navbar")){const e=document.querySelector('.main-navbar a[href="#'+t.split("?")[0].split("/")[0]+'"]');e&&App.updateMenuTop(e)}document.title=a?a.innerHTML.replace(/<i.*>.*?<\/i>/gi,"").replace(/<svg.*>.*?<\/svg>/gi,"").replace(/<span.*>.*?<\/span>/gi,"").trim():document.title}else window.location.hash=menu.querySelector('a[href="#'+e.default+'"]').getAttribute("href");window.onhashchange=()=>App.ajax(e),App.ajaxReload=()=>{App.ajax(e)},document.querySelector("#refreshPage")&&(refreshPage.onclick=e=>{App.ajaxReload(),e.preventDefault()})};